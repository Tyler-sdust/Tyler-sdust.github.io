[{"categories":null,"content":"â€ƒä¸€ä¸ªå®¶ç”¨æœåŠ¡å™¨å¸¸ç”¨æœåŠ¡çš„è¯¦ç»†æ­å»ºæ•™ç¨‹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºsambaæ–‡ä»¶å…±äº«ã€FTPæœåŠ¡å™¨ã€FRPå†…ç½‘ç©¿é€ã€AdGuard Homeå¹¿å‘Šè¿‡æ»¤ã€qBittorrent Webä¸‹è½½å™¨ç­‰æœåŠ¡çš„æ­å»ºæ•™ç¨‹ï¼›æ–‡ä¸­æ‰€ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸ºvimï¼Œä¸ç†Ÿæ‚‰ç›¸å…³ç”¨æ³•å¯ç”¨å…¶ä»–ç¼–è¾‘å™¨æ›¿ä»£æˆ–è‡ªè¡Œç™¾åº¦ç›¸å…³å‘½ä»¤åŠç”¨æ³•ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ï¼›ä»¥ä¸‹å†…å®¹åœ¨Ubuntu 20.04 LTS Serverç³»ç»Ÿä¸­å®Œå…¨é€‚ç”¨ï¼Œå…¶ä»–Linuxç³»ç»Ÿç”±äºåŒ…ç®¡ç†å·¥å…·ä¸è½¯ä»¶å®‰è£…è·¯å¾„çš„å·®å¼‚ï¼Œç›¸å…³é…ç½®å¯èƒ½ç•¥æœ‰å‡ºå…¥ã€‚ ç›®å‰åªæ›´æ–°äº†sambaçš„é…ç½®ï¼Œåç»­ä¼šé€æ­¥å®Œå–„å†…å®¹(ä¸»è¦æ˜¯Markdownè¯­æ³•æˆ‘è¿˜æ²¡ç ”ç©¶æ˜ç™½ğŸ¤¡) ","date":"2022-12-26","objectID":"/demo/:0:0","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"1. SAMBAæ–‡ä»¶å…±äº« ","date":"2022-12-26","objectID":"/demo/:1:0","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"1.1 å®‰è£…samba sudo apt install samba ","date":"2022-12-26","objectID":"/demo/:1:1","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"1.2 ä¿®æ”¹é…ç½®æ–‡ä»¶ sudo vim /etc/samba/smb.conf åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š [share] #åç§°éšä¾¿èµ· comment = samba home directory #å…±äº«ç›®å½•çš„ç»å¯¹è·¯å¾„ path = /home/share/smb/disk public = yes browseable = yes read only = no guest ok = no #é€‰æ‹©ä¸€ä¸ªæœ¬åœ°ç”¨æˆ·ä½œä¸ºç™»å½•ç”¨æˆ·åï¼Œæ³¨æ„æ­¤å¤„ä»¥shareä¸ºä¾‹ï¼Œåé¢ä¼šç”¨åˆ° valid users = share #æ–‡ä»¶æƒé™æ§åˆ¶ create mask = 0755 #ç›®å½•æƒé™æ§åˆ¶ directory mask = 0755 available = yes #å…³é—­å¼‚æ­¥è¯»å– aio read size = 0 ","date":"2022-12-26","objectID":"/demo/:1:2","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"1.3 æ£€æŸ¥é…ç½®æ–‡ä»¶ ä½¿ç”¨ testparm å‘½ä»¤æ£€æŸ¥æ·»åŠ çš„é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºåˆ™è¯æ˜é…ç½®å¯ç”¨ âœ ~ testparm Load smb config files from /etc/samba/smb.conf Loaded services file OK. Weak crypto is allowed Server role: ROLE_STANDALONE Press enter to see a dump of your service definitions ","date":"2022-12-26","objectID":"/demo/:1:3","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"1.4 å¯åŠ¨sambaæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯ #å¯åŠ¨æœåŠ¡ sudo systemctl start smbd #è®¾ç½®å¼€æœºè‡ªå¯ sudo systemctl enable smbd #æŸ¥çœ‹æœåŠ¡çŠ¶æ€ sudo systemctl status smbd ","date":"2022-12-26","objectID":"/demo/:1:4","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"1.5 ä¸ºç™»å½•ç”¨æˆ·é…ç½®ç™»é™†å¯†ç å¹¶é‡å¯æœåŠ¡ #é…ç½®è®¿é—®å¯†ç  sudo smbpasswd -a \u003cuser\u003e #\u003cuser\u003eä¸ºå‰æ–‡é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ç”¨æˆ·åshareï¼Œå‘½ä»¤æ‰§è¡Œåä¼šè¦æ±‚è®¾ç½®å¯†ç  #æ³¨æ„é…ç½®å¯†ç æ—¶é»˜è®¤ä¸æ˜¾ç¤ºè¾“å…¥ï¼š âœ ~ sudo smbpasswd -a share New SMB password: Retype new SMB password: #å¯†ç é…ç½®å®Œæˆåé‡å¯æœåŠ¡ sudo systemctl restart smbd ","date":"2022-12-26","objectID":"/demo/:1:5","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"1.6 æµ‹è¯•sambaèƒ½å¦æ­£å¸¸ä½¿ç”¨ è¾“å…¥æœåŠ¡å™¨ä¸»æœºåæˆ–IPåœ°å€+ç›®å½•åç§°ï¼Œç„¶åè¾“å…¥ç”¨æˆ·åå¯†ç  ","date":"2022-12-26","objectID":"/demo/:1:6","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"2. FTPæœåŠ¡å™¨ ","date":"2022-12-26","objectID":"/demo/:2:0","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"2.1 å®‰è£…vsftpd sudo apt install vsftpd ","date":"2022-12-26","objectID":"/demo/:2:1","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"2.2 ä¿®æ”¹é…ç½®æ–‡ä»¶ ä»¥ä¸‹æ˜¯vsftpdçš„é…ç½®ï¼ŒåŸºæœ¬é…ç½®æ¡ç›®å·²å­˜åœ¨ï¼Œåªè¦å–æ¶ˆæ³¨é‡Šæˆ–æ›´æ”¹è®¾ç½®å³å¯(é…ç½®æ–‡ä»¶ä¸­åŒ…å«è‹±æ–‡è¯´æ˜ï¼ŒæŸäº›ä¸»è¦çš„é…ç½®æˆ‘ä¼šåŠ ä¸Šä¸­æ–‡è¯´æ˜)ï¼š # Example config file /etc/vsftpd.conf # # The default compiled in settings are fairly paranoid. This sample file # loosens things up a bit, to make the ftp daemon more usable. # Please see vsftpd.conf.5 for all compiled in defaults. # # READ THIS: This example file is NOT an exhaustive list of vsftpd options. # Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's # capabilities. # # # Run standalone? vsftpd can run either from an inetd or as a standalone # daemon started from an initscript. #ä»¥ç‹¬ç«‹æ¨¡å¼è¿è¡Œvsftpd listen=YES # # This directive enables listening on IPv6 sockets. By default, listening # on the IPv6 \"any\" address (::) will accept connections from both IPv6 # and IPv4 clients. It is not necessary to listen on *both* IPv4 and IPv6 # sockets. If you want that (perhaps because you want to listen on specific # addresses) then you must run two copies of vsftpd with two configuration # files. #listen_ipv6=NO # # Allow anonymous FTP? (Disabled by default). #ç¦æ­¢åŒ¿åç™»å½• anonymous_enable=NO # # Uncomment this to allow local users to log in. #å…è®¸æœ¬åœ°ç”¨æˆ·ç™»å½• local_enable=YES # # Uncomment this to enable any form of FTP write command. #å…è®¸å†™å…¥ï¼Œå¦‚æœåªæƒ³ä»FTPæœåŠ¡å™¨è¯»å–æˆ–ä¸‹è½½åˆ™å¯ä»¥æ”¹ä¸ºNO write_enable=YES # # Default umask for local users is 077. You may wish to change this to 022, # if your users expect that (022 is used by most other ftpd's) #local_umask=022 # # Uncomment this to allow the anonymous FTP user to upload files. This only # has an effect if the above global write enable is activated. Also, you will # obviously need to create a directory writable by the FTP user. #anon_upload_enable=YES # # Uncomment this if you want the anonymous FTP user to be able to create # new directories. #anon_mkdir_write_enable=YES # # Activate directory messages - messages given to remote users when they # go into a certain directory. #æ¬¢è¿è¯­è®¾ç½®ï¼Œä¼šæ£€æŸ¥å…±äº«ç›®å½•ä¸‹æ˜¯å¦æœ‰.messageè¿™ä¸ªæ¡£æ¡ˆï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¼šå›æ˜¾æ­¤æ¡£æ¡ˆçš„å†…å®¹ dirmessage_enable=YES # # If enabled, vsftpd will display directory listings with the time # in your local time zone. The default is to display GMT. The # times returned by the MDTM FTP command are also affected by this # option. #ä½¿ç”¨æœ¬åœ°æ—¶é—´æ˜¾ç¤ºæ–‡ä»¶æ—¥æœŸ use_localtime=YES # # Activate logging of uploads/downloads. #å¯ç”¨ä¸Šä¼ /ä¸‹è½½æ—¥å¿—è®°å½• xferlog_enable=YES # # Make sure PORT transfer connections originate from port 20 (ftp-data). #é€šè¿‡20ç«¯å£é“¾æ¥ connect_from_port_20=YES # # If you want, you can arrange for uploaded anonymous files to be owned by # a different user. Note! Using \"root\" for uploaded files is not # recommended! #chown_uploads=YES #chown_username=whoever # # You may override where the log file goes if you like. The default is shown # below. #xferlog_file=/var/log/vsftpd.log # # If you want, you can have your log file in standard ftpd xferlog format. # Note that the default log file location is /var/log/xferlog in this case. #xferlog_std_format=YES # # You may change the default value for timing out an idle session. #idle_session_timeout=600 # # You may change the default value for timing out a data connection. #data_connection_timeout=120 # # It is recommended that you define on your system a unique user which the # ftp server can use as a totally isolated and unprivileged user. #nopriv_user=ftpsecure # # Enable this and the server will recognise asynchronous ABOR requests. Not # recommended for security (the code is non-trivial). Not enabling it, # however, may confuse older FTP clients. #async_abor_enable=YES # # By default the server will pretend to allow ASCII mode but in fact ignore # the request. Turn on the below options to have the server actually do ASCII # mangling on files when in ASCII mode. # Beware that on some FTP servers, ASCII support allows a denial of service # attack (DoS) via the command \"SIZE /big/file\" in ASCII mode. vsftpd # predicted this attack and has always been safe, reporting the size of the # raw file. # ASCII mangling is a horrible feature of the protocol. #ascii_upload_enable=YES #ascii_dow","date":"2022-12-26","objectID":"/demo/:2:2","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"2.3 é‡å¯vsftpdæœåŠ¡ sudo service vsftpd restart ","date":"2022-12-26","objectID":"/demo/:2:3","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"2.4 æµ‹è¯•é…ç½®æ˜¯å¦æ­£å¸¸ è‹¥é…ç½®æ­£å¸¸ä½†ä»æ— æ³•ç™»å½•FTPå¹¶ä¸”å·²é…ç½®SSHç™»å½•ï¼Œè¯·æ£€æŸ¥/etc/ssh/sshd_configé…ç½®æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„SFTPæœåŠ¡é…ç½®å…¨éƒ¨æ³¨é‡Šæ‰ #SFTPæœåŠ¡ Subsystem sftp internal-sftp Match Group share ChrootDirectory /home/share/sftp ForceCommand internal-sftp PasswordAuthentication yes PermitTunnel no X11Forwarding no AllowTcpForwarding no AllowAgentForwarding no ","date":"2022-12-26","objectID":"/demo/:2:4","tags":null,"title":"å®¶ç”¨LinuxæœåŠ¡å™¨é€šç”¨æœåŠ¡æ­å»ºæ•™ç¨‹","uri":"/demo/"},{"categories":null,"content":"hugoæ¡†æ¶å¿«é€Ÿæ­å»ºçš„Blogï¼Œç›®å‰è¿˜æ²¡æœ‰ä»€ä¹ˆå†™æ–‡ç« çš„çµæ„ŸğŸ¤¨ å“ªå¤©æ¥åŠ²äº†æƒ³å†™ç‚¹å•¥å†éšç¼˜æ›´æ–°å§ å—¯ï¼Œå°±è¿™æ ·âœŒ ","date":"2022-12-24","objectID":"/first_post/:1:0","tags":null,"title":"è¿™é‡Œä»€ä¹ˆä¹Ÿæ²¡æœ‰","uri":"/first_post/"}]